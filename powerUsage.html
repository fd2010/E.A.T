<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to E.A.T</title>
    <link href="https://fonts.googleapis.com/css2?family=Kay+Pho+Du&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/main.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="bodyLight">

    <h1 class="h1Light"><b>Power Usage</b></h1>
    <h2 class="h2Light">Here is your location's energy consumption rate</h2>

    <!-- Graph Panel -->
    <div class="graph-container" style="width: 100%; height: 300px; background-color: #f0f0f0; border-radius: 10px; padding: 20px; text-align: center;">
        <canvas id="powerUsageChart"></canvas>
    </div>

    <!-- Buttons for Selecting Graph -->
    <div style="text-align: center; margin-bottom: 20px;">
        <button onclick="updateChart('daily')">Daily</button>
        <button onclick="updateChart('weekly')">Weekly</button>
        <button onclick="updateChart('monthly')">Monthly</button>
    </div>

    <!-- Power Usage and Expenses Panels -->
    <div style="display: flex; gap: 20px; justify-content: space-between;">
        <div class="panel" style="flex: 1; background-color: #D9D9D9; padding: 20px; border-radius: 10px;">
            <h2>Power Usage</h2>
            <p>Total usage for this month: 70kW</p>
            <p>Today's usage: 5kW</p>
        </div>
        <div class="panel" style="flex: 1; background-color: #7EA8F4; padding: 20px; border-radius: 10px;">
            <h2>Expenses</h2>
            <p>Total usage for this month: £270.46</p>
            <p>Today's usage: £29.38</p>
        </div>
    </div>

    <script>
        const ctx = document.getElementById('powerUsageChart').getContext('2d');
        let powerUsageChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['00:00', '06:00', '12:00', '18:00', '24:00'],
                datasets: [{
                    label: 'Power Usage (kW)',
                    data: [2, 3, 5, 4, 3],
                    borderColor: 'blue',
                    fill: false
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        function updateChart(period) {
            let newLabels, newData;
            if (period === 'daily') {
                newLabels = ['00:00', '06:00', '12:00', '18:00', '24:00'];
                newData = [2, 3, 5, 4, 3];
            } else if (period === 'weekly') {
                newLabels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
                newData = [30, 40, 35, 50, 45, 38, 42];
            } else {
                newLabels = ['Week 1', 'Week 2', 'Week 3', 'Week 4'];
                newData = [200, 220, 210, 230];
            }
            powerUsageChart.data.labels = newLabels;
            powerUsageChart.data.datasets[0].data = newData;
            powerUsageChart.update();
        }
    </script>

</body>

</html>
