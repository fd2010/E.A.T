<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Power Usage</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;300;400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/pUsage.css">
</head>
<body class="bodyLight">
    <div class="container">
        <!-- 1st Vertical Section: Sidebar (Left) -->
        <nav class="sidebar">
            <a href="home.html"><img src="./images/icons/user icon.png" alt="User" class="sidebar-icon"></a>
            <div class="sidebar-center">
                <a href="home.html"><img src="./images/icons/Home Icon.png" alt="Home" class="sidebar-icon"></a>
                <a href="pUsage.html"><img src="./images/icons/lightning_icon(MIT).png" alt="Power Usage" class="sidebar-icon"></a>
                <a href="home.html"><img src="./images/icons/Add Device Icon.png" alt="Plus" class="sidebar-icon"></a>
                <a href="home.html"><img src="./images/icons/laptop icon(MIT).png" alt="Phone" class="sidebar-icon"></a>
            </div>
            <a href="index.html"><img src="./images/icons/map icon (MIT LICENCED).png" alt="Exit" class="sidebar-icon"></a>
        </nav>

        <!-- 2nd Vertical Section: Main Content (Graphs and Titles, Middle) -->
        <main class="main-content">
            <h1 class="power-usage-title">Power Usage</h1>
            <h2 class="energy-consumption">Here’s your device energy consumption rate</h2>

            <!-- Overall Usage (Line Graph) -->
            <section class="graph-section overall-usage">
                <h3 class="graph-title">Overall Usage</h3>
                <div class="graph-container">
                    <canvas id="overallUsageChart"></canvas>
                    <div class="filter">
                        <span>kWH</span>
                        <select>
                            <option value="monthly">Monthly</option>
                            <option value="weekly">Weekly</option>
                            <option value="daily">Daily</option>
                        </select>
                    </div>
                </div>
            </section>

            <!-- Usage by Area (Bar Chart) -->
            <section class="graph-section usage-by-area">
                <h3 class="graph-title">Usage by Area</h3>
                <div class="graph-container">
                    <canvas id="usageByAreaChart"></canvas>
                    <div class="filter">
                        <span>kWh</span>
                        <select>
                            <option value="monthly">Monthly</option>
                            <option value="office1">Office 1</option>
                        </select>
                    </div>
                </div>
            </section>
        </main>

        <!-- 3rd Vertical Section: Right Panel (Right) -->
        <aside class="right-panel">
            <div class="panel expenses-panel">
                <h3>Expenses</h3>
                <p>This month: £270.00</p>
                <p>Today: £30.00</p>
            </div>
            <div class="panel power-usage-panel">
                <h3>Power Usage</h3>
                <p>This month: 70 kWh</p>
                <p>Today: 5 kWh</p>
            </div>
            <div class="device-panel">
                <h3>Device Usage</h3>
                <div class="pie-chart-container">
                    <canvas id="deviceUsageChart"></canvas>
                </div>
                <div class="device-usage-details">
                    <div class="device-item">
                        <span class="percentage">60%</span>
                        <span class="device-type">A/C</span>
                        <div class="color-bar" style="background-color: #2B3695;"></div>
                    </div>
                    <div class="device-item">
                        <span class="percentage">70%</span>
                        <span class="device-type">Lights</span>
                        <div class="color-bar" style="background-color: #6976EB;"></div>
                    </div>
                    <div class="device-item">
                        <span class="percentage">60%</span>
                        <span class="device-type">Computer</span>
                        <div class="color-bar" style="background-color: #ADB4F3;"></div>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <!-- Back Button -->
    <a href="dashboard.html" class="back-link">
        <img src="./images/icons/back-icon.png" alt="Back Icon" class="back-icon">
    </a>

    <!-- Company Branding -->
    <div class="company-branding">
        <p id="companyName">PearCare.Inc</p>
        <div id="line"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="module" src="./javascript/powerUsage.js"></script>
</body>
</html>